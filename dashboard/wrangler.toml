name = "indexyourniche"
compatibility_date = "2024-12-30"
compatibility_flags = ["nodejs_compat"]
main = ".open-next/worker.js"

# Assets (static files)
assets = { directory = ".open-next/assets", binding = "ASSETS" }

# Custom domain routes
routes = [
  { pattern = "indexyourniche.com", custom_domain = true },
  { pattern = "www.indexyourniche.com", custom_domain = true }
]

# Observability - Worker logs and invocation tracking
[observability]
enabled = true

[observability.logs]
enabled = true
invocation_logs = true

# Environment variables (set in Cloudflare Dashboard)
[vars]
ENVIRONMENT = "production"
NEXT_PUBLIC_GA_ID = "G-XXXXXXXXXX"

# Secrets (set via wrangler secret put SECRET_NAME)
# Run these commands to set secrets:
#   cd dashboard
#   npx wrangler secret put NEXT_PUBLIC_SUPABASE_URL
#   npx wrangler secret put NEXT_PUBLIC_SUPABASE_ANON_KEY
#   npx wrangler secret put SUPABASE_SERVICE_ROLE_KEY
#   npx wrangler secret put ENCRYPTION_KEY
